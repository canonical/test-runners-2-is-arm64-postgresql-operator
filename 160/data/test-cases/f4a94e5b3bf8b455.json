{"uid":"f4a94e5b3bf8b455","name":"test_mailman3_core_db","fullName":"tests.integration.test_db#test_mailman3_core_db","historyId":"13b89f101caf60c8b6dab7c3e4d2a456","time":{"start":1725070673939,"stop":1725071923098,"duration":1249159},"description":"Deploy Mailman3 Core to test the 'db' relation.","descriptionHtml":"<p>Deploy Mailman3 Core to test the 'db' relation.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1725070673196,"stop":1725070673197,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1725070673197,"stop":1725070673935,"duration":738},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1725070673197,"stop":1725070673197,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1725070673936,"stop":1725070673938,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1725070673938,"stop":1725070673938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy Mailman3 Core to test the 'db' relation.","status":"passed","steps":[],"attachments":[{"uid":"fe13c1ec504fe5e6","name":"log","source":"fe13c1ec504fe5e6.txt","type":"text/plain","size":6490}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1725071923098,"stop":1725071923099,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm::finalizer","time":{"start":1725072888982,"stop":1725072888983,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1725072888983,"stop":1725072890578,"duration":1595},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1725072890578,"stop":1725072890579,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1725072890579,"stop":1725072890579,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1725072890579,"stop":1725072890579,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_db"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10089-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3e7b93af06f18638","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":33,"skipped":0,"passed":33,"unknown":12,"total":80},"items":[{"uid":"2645b00af2374ccf","reportUrl":"../159//#testresult/2645b00af2374ccf","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1724984782780,"stop":1724984969555,"duration":186775}},{"uid":"8bbb2daee34ccabc","reportUrl":"../158//#testresult/8bbb2daee34ccabc","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] waiting: awaiting for cluster to start","time":{"start":1724897986362,"stop":1724899514656,"duration":1528294}},{"uid":"e303318c5fccde72","reportUrl":"../157//#testresult/e303318c5fccde72","status":"passed","time":{"start":1724817153285,"stop":1724818292506,"duration":1139221}},{"uid":"c5d90b09ac7a58e8","reportUrl":"../156//#testresult/c5d90b09ac7a58e8","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1724725746867,"stop":1724726145733,"duration":398866}},{"uid":"f22026ce6a8795c1","reportUrl":"../155//#testresult/f22026ce6a8795c1","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/0","time":{"start":1724638281305,"stop":1724638503860,"duration":222555}},{"uid":"323e3e3911ccce3c","reportUrl":"../154//#testresult/323e3e3911ccce3c","status":"passed","time":{"start":1724551618834,"stop":1724553334699,"duration":1715865}},{"uid":"bb1e4b31f1952ab7","reportUrl":"../153//#testresult/bb1e4b31f1952ab7","status":"passed","time":{"start":1724465942128,"stop":1724467560572,"duration":1618444}},{"uid":"a9a040208d86cded","reportUrl":"../152//#testresult/a9a040208d86cded","status":"passed","time":{"start":1724379548169,"stop":1724381827547,"duration":2279378}},{"uid":"910ddac3b509a158","reportUrl":"../151//#testresult/910ddac3b509a158","status":"passed","time":{"start":1724294116720,"stop":1724295061634,"duration":944914}},{"uid":"3caae167114245fb","reportUrl":"../150//#testresult/3caae167114245fb","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmailman3-core/0 [executing] maintenance: Installing mailman3,postfix,postfix-policyd-spf-python,spamassassin,spamc","time":{"start":1724206312645,"stop":1724208533076,"duration":2220431}},{"uid":"142dee5e925306bc","reportUrl":"../149//#testresult/142dee5e925306bc","status":"passed","time":{"start":1724122200862,"stop":1724123828925,"duration":1628063}},{"uid":"dbf2ddcf58a7543c","reportUrl":"../148//#testresult/dbf2ddcf58a7543c","status":"broken","statusDetails":"psycopg2.OperationalError: connection to server at \"10.1.103.163\", port 5432 failed: Connection refused\n\tIs the server running on that host and accepting TCP/IP connections?","time":{"start":1724040546867,"stop":1724041242575,"duration":695708}},{"uid":"2be8eb405b35574e","reportUrl":"../147//#testresult/2be8eb405b35574e","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1723947263593,"stop":1723948392153,"duration":1128560}},{"uid":"5e2654744c8de898","reportUrl":"../146//#testresult/5e2654744c8de898","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] maintenance: reinitialising replica\n  postgresql/1 [executing] maintenance: reconfiguring cluster","time":{"start":1723861288268,"stop":1723862805499,"duration":1517231}},{"uid":"d16c7185b85b4339","reportUrl":"../145//#testresult/d16c7185b85b4339","status":"broken","statusDetails":"mailmanclient.restbase.connection.MailmanConnectionError: ('Could not connect to Mailman API: ', 'ConnectionError(MaxRetryError(\"HTTPConnectionPool(host=\\'10.33.81.212\\', port=8001): Max retries exceeded with url: /3.1/domains (Caused by NewConnectionError(\\'<urllib3.connection.HTTPConnection object at 0xffff9bc18f10>: Failed to establish a new connection: [Errno 111] Connection refused\\'))\"))')","time":{"start":1723777127416,"stop":1723778438890,"duration":1311474}},{"uid":"535cf5fd08464f2a","reportUrl":"../144//#testresult/535cf5fd08464f2a","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1723691875651,"stop":1723692354185,"duration":478534}},{"uid":"8ad2ae7174719741","reportUrl":"../143//#testresult/8ad2ae7174719741","status":"passed","time":{"start":1723603488317,"stop":1723605538364,"duration":2050047}},{"uid":"7e37b31cb294a29a","reportUrl":"../142//#testresult/7e37b31cb294a29a","status":"passed","time":{"start":1723516751085,"stop":1723518305977,"duration":1554892}},{"uid":"958cc00b4db52f4e","reportUrl":"../141//#testresult/958cc00b4db52f4e","status":"passed","time":{"start":1723430815817,"stop":1723433590007,"duration":2774190}},{"uid":"d45a88d5d104d5c2","reportUrl":"../140//#testresult/d45a88d5d104d5c2","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmailman3-core/0 [executing] maintenance: Installing mailman3,postfix,postfix-policyd-spf-python,spamassassin,spamc","time":{"start":1723346484770,"stop":1723348921248,"duration":2436478}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"f4a94e5b3bf8b455.json","parameterValues":[]}