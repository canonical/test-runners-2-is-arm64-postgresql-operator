{"uid":"e5b0c34302e1c9e6","name":"test_deploy_async_replication_setup","fullName":"tests.integration.ha_tests.test_async_replication#test_deploy_async_replication_setup","historyId":"d78aa2d7506528b71f817b6a92e55938","time":{"start":1725241611485,"stop":1725242374096,"duration":762611},"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","descriptionHtml":"<p>Build and deploy two PostgreSQL cluster in two separate models to test async replication.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1725241590630,"stop":1725241590631,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1725241590631,"stop":1725241590631,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1725241590631,"stop":1725241591938,"duration":1307},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1725241591939,"stop":1725241611480,"duration":19541},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1725241591939,"stop":1725241591939,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1725241611480,"stop":1725241611484,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1725241611484,"stop":1725241611485,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","status":"passed","steps":[],"attachments":[{"uid":"fc9a877ddbc48241","name":"log","source":"fc9a877ddbc48241.txt","type":"text/plain","size":11935}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1725242374097,"stop":1725242374097,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm::finalizer","time":{"start":1725242674965,"stop":1725242674965,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1725242674966,"stop":1725242675189,"duration":223},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1725242675191,"stop":1725242676893,"duration":1702},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1725242676894,"stop":1725242676895,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1725242676895,"stop":1725242676895,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1725242676895,"stop":1725242676895,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11583-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"49240f7eeca4d27","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":28,"skipped":0,"passed":25,"unknown":29,"total":82},"items":[{"uid":"1c50aca36b063a14","reportUrl":"../161//#testresult/1c50aca36b063a14","status":"unknown","time":{}},{"uid":"153bf2a1e0e954ce","reportUrl":"../160//#testresult/153bf2a1e0e954ce","status":"unknown","time":{}},{"uid":"b300b58e4675cfc0","reportUrl":"../159//#testresult/b300b58e4675cfc0","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/2","time":{"start":1724982575333,"stop":1724983076786,"duration":501453}},{"uid":"2217876f3e2df124","reportUrl":"../158//#testresult/2217876f3e2df124","status":"passed","time":{"start":1724896102240,"stop":1724896801923,"duration":699683}},{"uid":"7918cfc649592bdc","reportUrl":"../157//#testresult/7918cfc649592bdc","status":"passed","time":{"start":1724814390659,"stop":1724815214172,"duration":823513}},{"uid":"e1ff37a4fe4f0238","reportUrl":"../156//#testresult/e1ff37a4fe4f0238","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1724723691898,"stop":1724723853216,"duration":161318}},{"uid":"5fac433764313102","reportUrl":"../155//#testresult/5fac433764313102","status":"passed","time":{"start":1724636702579,"stop":1724637382191,"duration":679612}},{"uid":"cd0b9bae57245b49","reportUrl":"../154//#testresult/cd0b9bae57245b49","status":"unknown","time":{}},{"uid":"241762bc3a234eeb","reportUrl":"../153//#testresult/241762bc3a234eeb","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [idle] waiting: awaiting for member to start\n  postgresql/1 [idle] waiting: awaiting for cluster to start\n  postgresql/2 [idle] waiting: awaiting for cluster to start\n  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product","time":{"start":1724464020450,"stop":1724466106457,"duration":2086007}},{"uid":"38084c9def51d675","reportUrl":"../152//#testresult/38084c9def51d675","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1724377753346,"stop":1724377868359,"duration":115013}},{"uid":"fd5d84bb53f19bd9","reportUrl":"../151//#testresult/fd5d84bb53f19bd9","status":"passed","time":{"start":1724294372914,"stop":1724295204967,"duration":832053}},{"uid":"3815f8db94dbd4d6","reportUrl":"../150//#testresult/3815f8db94dbd4d6","status":"unknown","time":{}},{"uid":"bb7e80470c3344dd","reportUrl":"../149//#testresult/bb7e80470c3344dd","status":"unknown","time":{}},{"uid":"7e082a5dc9a1d95e","reportUrl":"../148//#testresult/7e082a5dc9a1d95e","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1724039161611,"stop":1724039821407,"duration":659796}},{"uid":"9d6c652f399b0cd3","reportUrl":"../147//#testresult/9d6c652f399b0cd3","status":"unknown","time":{}},{"uid":"7a101b3f1bdf2af2","reportUrl":"../146//#testresult/7a101b3f1bdf2af2","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1723859912988,"stop":1723860160937,"duration":247949}},{"uid":"e9fbbdbcc04a1702","reportUrl":"../145//#testresult/e9fbbdbcc04a1702","status":"unknown","time":{}},{"uid":"235e87732e9c4d58","reportUrl":"../144//#testresult/235e87732e9c4d58","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1723686661152,"stop":1723686875252,"duration":214100}},{"uid":"2dfef25e650d4625","reportUrl":"../143//#testresult/2dfef25e650d4625","status":"unknown","time":{}},{"uid":"12a36ca3681cbcb6","reportUrl":"../142//#testresult/12a36ca3681cbcb6","status":"unknown","time":{}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"e5b0c34302e1c9e6.json","parameterValues":[]}