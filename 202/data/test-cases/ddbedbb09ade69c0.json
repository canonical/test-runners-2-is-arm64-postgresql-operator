{"uid":"ddbedbb09ade69c0","name":"test_storage_re_use","fullName":"tests.integration.ha_tests.test_self_healing#test_storage_re_use","historyId":"c97d99b81d8bb075ab78e01561cd1a68","time":{"start":1728611722747,"stop":1728612262049,"duration":539302},"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the\n    postgresql properly uses the storage that was provided. (ie. doesn't just re-sync everything\n    from primary, but instead computes a diff between current storage and primary storage.)\n    ","descriptionHtml":"<p>Verifies that database units with attached storage correctly repurpose storage.</p>\n<pre><code>It is not enough to verify that Juju attaches the storage. Hence test checks that the\npostgresql properly uses the storage that was provided. (ie. doesn't just re-sync everything\nfrom primary, but instead computes a diff between current storage and primary storage.)\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1728610869981,"stop":1728610869982,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1728610869982,"stop":1728610870300,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1728610869982,"stop":1728610869982,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1728611722745,"stop":1728611722745,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1728611722745,"stop":1728611722746,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the\n    postgresql properly uses the storage that was provided. (ie. doesn't just re-sync everything\n    from primary, but instead computes a diff between current storage and primary storage.)\n    ","status":"passed","steps":[],"attachments":[{"uid":"504a998d24a27006","name":"log","source":"504a998d24a27006.txt","type":"text/plain","size":3011}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1728612262049,"stop":1728612263100,"duration":1051},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1728612263101,"stop":1728612263101,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1728613851747,"stop":1728613852345,"duration":598},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1728613852347,"stop":1728613852347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1728613852347,"stop":1728613852347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1728613852347,"stop":1728613852347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"github-runner"},{"name":"thread","value":"21561-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d959d3c6ccfc48d8","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":33,"skipped":22,"passed":31,"unknown":35,"total":121},"items":[{"uid":"a9abb4baa6c793f1","reportUrl":"../201//#testresult/a9abb4baa6c793f1","status":"passed","time":{"start":1728526101130,"stop":1728526776580,"duration":675450}},{"uid":"7cb92755de054d10","reportUrl":"../200//#testresult/7cb92755de054d10","status":"passed","time":{"start":1728439208918,"stop":1728439644720,"duration":435802}},{"uid":"757ed529fa11b31e","reportUrl":"../199//#testresult/757ed529fa11b31e","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1728351840588,"stop":1728351840588,"duration":0}},{"uid":"10ed542824a41a75","reportUrl":"../198//#testresult/10ed542824a41a75","status":"passed","time":{"start":1728265773240,"stop":1728266401895,"duration":628655}},{"uid":"b28fc29f675c4f6f","reportUrl":"../197//#testresult/b28fc29f675c4f6f","status":"passed","time":{"start":1728179470060,"stop":1728180112392,"duration":642332}},{"uid":"58eeab0192bdeddf","reportUrl":"../196//#testresult/58eeab0192bdeddf","status":"passed","time":{"start":1728093082986,"stop":1728093545959,"duration":462973}},{"uid":"8d6ff199acfd1f21","reportUrl":"../195//#testresult/8d6ff199acfd1f21","status":"passed","time":{"start":1728006663959,"stop":1728007283287,"duration":619328}},{"uid":"52d20eb18dea1196","reportUrl":"../194//#testresult/52d20eb18dea1196","status":"passed","time":{"start":1727920610426,"stop":1727921047411,"duration":436985}},{"uid":"d3edceb652b40b25","reportUrl":"../193//#testresult/d3edceb652b40b25","status":"passed","time":{"start":1727834228830,"stop":1727834691663,"duration":462833}},{"uid":"203cd7bf9d9d4852","reportUrl":"../192//#testresult/203cd7bf9d9d4852","status":"passed","time":{"start":1727747298282,"stop":1727747941227,"duration":642945}},{"uid":"aa4a75295f3de4a7","reportUrl":"../191//#testresult/aa4a75295f3de4a7","status":"passed","time":{"start":1727660803235,"stop":1727661238466,"duration":435231}},{"uid":"4a62b453de1e17fd","reportUrl":"../190//#testresult/4a62b453de1e17fd","status":"passed","time":{"start":1727574301872,"stop":1727574930306,"duration":628434}},{"uid":"8c39ce077f023900","reportUrl":"../189//#testresult/8c39ce077f023900","status":"passed","time":{"start":1727487928500,"stop":1727488541015,"duration":612515}},{"uid":"4c78b106766bc931","reportUrl":"../188//#testresult/4c78b106766bc931","status":"passed","time":{"start":1727401565690,"stop":1727402201983,"duration":636293}},{"uid":"cf07f78ad1db315b","reportUrl":"../187//#testresult/cf07f78ad1db315b","status":"passed","time":{"start":1727315181608,"stop":1727315793123,"duration":611515}},{"uid":"2cbef4b68c0d7eb2","reportUrl":"../185//#testresult/2cbef4b68c0d7eb2","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1727229001699,"stop":1727229002019,"duration":320}},{"uid":"33320ddf2a694551","reportUrl":"../184//#testresult/33320ddf2a694551","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1727142235577,"stop":1727142235577,"duration":0}},{"uid":"8cdeb9b8427b2aec","reportUrl":"../183//#testresult/8cdeb9b8427b2aec","status":"unknown","time":{}},{"uid":"5ef99d00c391bec3","reportUrl":"../182//#testresult/5ef99d00c391bec3","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726969798585,"stop":1726969798979,"duration":394}},{"uid":"1073a8fabe8a76d2","reportUrl":"../181//#testresult/1073a8fabe8a76d2","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726883324453,"stop":1726883324736,"duration":283}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"ddbedbb09ade69c0.json","parameterValues":[]}