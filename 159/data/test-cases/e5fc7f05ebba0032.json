{"uid":"e5fc7f05ebba0032","name":"test_tls_enabled","fullName":"tests.integration.test_tls#test_tls_enabled","historyId":"0ebe5aa0b66f6c5314fa764ad3239c77","time":{"start":1724984725228,"stop":1724985749129,"duration":1023901},"description":"Test that TLS is enabled when relating to the TLS Certificates Operator.","descriptionHtml":"<p>Test that TLS is enabled when relating to the TLS Certificates Operator.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1724984704501,"stop":1724984704502,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1724984704502,"stop":1724984704840,"duration":338},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1724984704502,"stop":1724984704502,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1724984725228,"stop":1724984725228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that TLS is enabled when relating to the TLS Certificates Operator.","status":"passed","steps":[],"attachments":[{"uid":"ff054c5cdd7b2733","name":"log","source":"ff054c5cdd7b2733.txt","type":"text/plain","size":6901}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1724985749130,"stop":1724985749130,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1724985749143,"stop":1724985749923,"duration":780},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1724985749925,"stop":1724985749926,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1724985749926,"stop":1724985749926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1724985749926,"stop":1724985749926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_tls"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10138-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_tls"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"75807615dda912a6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":35,"skipped":0,"passed":30,"unknown":14,"total":79},"items":[{"uid":"6af3a4ee66b3f574","reportUrl":"../158//#testresult/6af3a4ee66b3f574","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] waiting: awaiting for cluster to start\n  postgresql/1 [executing] active: Primary\n  postgresql/2 [executing] waiting: awaiting for cluster to start","time":{"start":1724897933501,"stop":1724899437478,"duration":1503977}},{"uid":"feb0dd23a2d2623f","reportUrl":"../157//#testresult/feb0dd23a2d2623f","status":"passed","time":{"start":1724818500463,"stop":1724819445171,"duration":944708}},{"uid":"2f0976ddf2ebbf45","reportUrl":"../156//#testresult/2f0976ddf2ebbf45","status":"passed","time":{"start":1724725815185,"stop":1724727173883,"duration":1358698}},{"uid":"d5d00e2c846fdf59","reportUrl":"../155//#testresult/d5d00e2c846fdf59","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0xe21e64113b80 state=finished returned bool>]","time":{"start":1724638316875,"stop":1724639358246,"duration":1041371}},{"uid":"61e0569467905476","reportUrl":"../154//#testresult/61e0569467905476","status":"passed","time":{"start":1724553589865,"stop":1724554534843,"duration":944978}},{"uid":"575d92b102d7418b","reportUrl":"../153//#testresult/575d92b102d7418b","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1724465912826,"stop":1724466084631,"duration":171805}},{"uid":"a1d2f1f790ee8f7e","reportUrl":"../152//#testresult/a1d2f1f790ee8f7e","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] waiting: Awaiting restart operation\n  postgresql/1 [executing] active: \n  postgresql/2 [executing] waiting: waiting for primary to be reachable from this unit","time":{"start":1724379571422,"stop":1724381075481,"duration":1504059}},{"uid":"87f20b0c94cfb3fb","reportUrl":"../151//#testresult/87f20b0c94cfb3fb","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0xec9466332980 state=finished returned bool>]","time":{"start":1724293963697,"stop":1724295181939,"duration":1218242}},{"uid":"ffba12a8f0107041","reportUrl":"../150//#testresult/ffba12a8f0107041","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] active: \n  postgresql/1 [executing] active: Primary\n  postgresql/2 [executing] active:","time":{"start":1724210532478,"stop":1724212035588,"duration":1503110}},{"uid":"a51cb4ea908bf876","reportUrl":"../149//#testresult/a51cb4ea908bf876","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [allocating] waiting: waiting for machine\n  postgresql/1 [allocating] waiting: waiting for machine\n  postgresql/2 [allocating] waiting: waiting for machine\n  self-signed-certificates/0 [allocating] waiting: waiting for machine","time":{"start":1724122247046,"stop":1724123750431,"duration":1503385}},{"uid":"96217561aa1411f9","reportUrl":"../148//#testresult/96217561aa1411f9","status":"passed","time":{"start":1724040869707,"stop":1724041755696,"duration":885989}},{"uid":"b076564c08cc2c72","reportUrl":"../147//#testresult/b076564c08cc2c72","status":"passed","time":{"start":1723948363621,"stop":1723949211352,"duration":847731}},{"uid":"4f61d9855922556d","reportUrl":"../146//#testresult/4f61d9855922556d","status":"unknown","time":{}},{"uid":"80bbf582e57b3f89","reportUrl":"../145//#testresult/80bbf582e57b3f89","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1723777854756,"stop":1723779525034,"duration":1670278}},{"uid":"493ec765079a853f","reportUrl":"../144//#testresult/493ec765079a853f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] active: \n  postgresql/1 [executing] waiting: awaiting for member to start\n  postgresql/2 [executing] active:","time":{"start":1723692011717,"stop":1723693517822,"duration":1506105}},{"uid":"966127046608f8a","reportUrl":"../143//#testresult/966127046608f8a","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:self-signed-certificates : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": net/http: TLS handshake timeout","time":{"start":1723605531917,"stop":1723605552031,"duration":20114}},{"uid":"a01ae354302925db","reportUrl":"../142//#testresult/a01ae354302925db","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0xffff7edea3e0 state=finished returned bool>]","time":{"start":1723517933782,"stop":1723518904040,"duration":970258}},{"uid":"594abb877fec0a29","reportUrl":"../141//#testresult/594abb877fec0a29","status":"passed","time":{"start":1723433153061,"stop":1723434396796,"duration":1243735}},{"uid":"6e75ce8f86b37a17","reportUrl":"../140//#testresult/6e75ce8f86b37a17","status":"passed","time":{"start":1723346911357,"stop":1723349188206,"duration":2276849}},{"uid":"d7a6bd88fbd00b1b","reportUrl":"../139//#testresult/d7a6bd88fbd00b1b","status":"unknown","time":{}}]},"tags":["asyncio","group(1)"]},"source":"e5fc7f05ebba0032.json","parameterValues":[]}