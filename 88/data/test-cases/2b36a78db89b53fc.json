{"uid":"2b36a78db89b53fc","name":"test_deploy_async_replication_setup","fullName":"tests.integration.ha_tests.test_async_replication#test_deploy_async_replication_setup","historyId":"d78aa2d7506528b71f817b6a92e55938","time":{"start":1719198460406,"stop":1719199911435,"duration":1451029},"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","descriptionHtml":"<p>Build and deploy two PostgreSQL cluster in two separate models to test async replication.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1719198449844,"stop":1719198449845,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1719198449845,"stop":1719198449845,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719198449845,"stop":1719198455567,"duration":5722},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1719198455567,"stop":1719198460399,"duration":4832},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1719198455567,"stop":1719198455567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1719198460400,"stop":1719198460405,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719198460405,"stop":1719198460406,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","status":"passed","steps":[],"attachments":[{"uid":"7d964278796ed7ef","name":"log","source":"7d964278796ed7ef.txt","type":"text/plain","size":20539}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1719199911506,"stop":1719199911506,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm::finalizer","time":{"start":1719202218671,"stop":1719202218671,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1719202218672,"stop":1719202218739,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719202218740,"stop":1719202221000,"duration":2260},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719202221001,"stop":1719202221002,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719202221002,"stop":1719202221002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719202221002,"stop":1719202221003,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"openstack-arm-large-21-c1ac473d3112a5dd8b7829bd"},{"name":"thread","value":"10127-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"10c46d1d6e0bf399","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":2,"unknown":8,"total":13},"items":[{"uid":"b284f81b49b2206f","reportUrl":"../84//#testresult/b284f81b49b2206f","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1718849968479,"stop":1718850288605,"duration":320126}},{"uid":"a894573e08e16ea2","reportUrl":"../83//#testresult/a894573e08e16ea2","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [idle] waiting: awaiting for member to start\n  postgresql/1 [idle] active: Primary\n  postgresql/2 [idle] active:","time":{"start":1718770783012,"stop":1718772823706,"duration":2040694}},{"uid":"7590fa6cefd7a9c4","reportUrl":"../82//#testresult/7590fa6cefd7a9c4","status":"passed","time":{"start":1718676022189,"stop":1718677042385,"duration":1020196}},{"uid":"9fb1a92b34f1bd0e","reportUrl":"../81//#testresult/9fb1a92b34f1bd0e","status":"unknown","time":{}},{"uid":"a27194bbdde1d1a7","reportUrl":"../80//#testresult/a27194bbdde1d1a7","status":"unknown","time":{}},{"uid":"2c61208133cd1f0d","reportUrl":"../79//#testresult/2c61208133cd1f0d","status":"unknown","time":{}},{"uid":"d82c5bc4b217113f","reportUrl":"../78//#testresult/d82c5bc4b217113f","status":"unknown","time":{}},{"uid":"755b612c63d03069","reportUrl":"../76//#testresult/755b612c63d03069","status":"unknown","time":{}},{"uid":"7fb5b8e60a931000","reportUrl":"../73//#testresult/7fb5b8e60a931000","status":"unknown","time":{}},{"uid":"459e0f3b7c6a5167","reportUrl":"../72//#testresult/459e0f3b7c6a5167","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/2","time":{"start":1718005400384,"stop":1718006275125,"duration":874741}},{"uid":"1d46628b5067c3fe","reportUrl":"../71//#testresult/1d46628b5067c3fe","status":"unknown","time":{}},{"uid":"2bd5f7d101fdf8e6","reportUrl":"../70//#testresult/2bd5f7d101fdf8e6","status":"unknown","time":{}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"2b36a78db89b53fc.json","parameterValues":[]}