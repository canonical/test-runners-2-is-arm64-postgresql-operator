{"uid":"5fac433764313102","name":"test_deploy_async_replication_setup","fullName":"tests.integration.ha_tests.test_async_replication#test_deploy_async_replication_setup","historyId":"d78aa2d7506528b71f817b6a92e55938","time":{"start":1724636702579,"stop":1724637382191,"duration":679612},"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","descriptionHtml":"<p>Build and deploy two PostgreSQL cluster in two separate models to test async replication.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1724636700139,"stop":1724636700140,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1724636700140,"stop":1724636700140,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1724636700141,"stop":1724636700771,"duration":630},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1724636700771,"stop":1724636700771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1724636700772,"stop":1724636702574,"duration":1802},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1724636702575,"stop":1724636702578,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1724636702578,"stop":1724636702578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","status":"passed","steps":[],"attachments":[{"uid":"f0112585fa0921cb","name":"log","source":"f0112585fa0921cb.txt","type":"text/plain","size":11265}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1724637382192,"stop":1724637382192,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1724637684841,"stop":1724637684900,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm::finalizer","time":{"start":1724637684841,"stop":1724637684841,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1724637684901,"stop":1724637687104,"duration":2203},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1724637687105,"stop":1724637687105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1724637687105,"stop":1724637687105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1724637687105,"stop":1724637687106,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"openstack-arm-large-20-c25c2caee8d3511fd5552d2a"},{"name":"thread","value":"11057-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"90fc46a566f1bcd8","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":26,"skipped":0,"passed":22,"unknown":27,"total":75},"items":[{"uid":"cd0b9bae57245b49","reportUrl":"../154//#testresult/cd0b9bae57245b49","status":"unknown","time":{}},{"uid":"241762bc3a234eeb","reportUrl":"../153//#testresult/241762bc3a234eeb","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [idle] waiting: awaiting for member to start\n  postgresql/1 [idle] waiting: awaiting for cluster to start\n  postgresql/2 [idle] waiting: awaiting for cluster to start\n  data-integrator/0 [idle] blocked: Please relate the data-integrator with the desired product","time":{"start":1724464020450,"stop":1724466106457,"duration":2086007}},{"uid":"38084c9def51d675","reportUrl":"../152//#testresult/38084c9def51d675","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1724377753346,"stop":1724377868359,"duration":115013}},{"uid":"fd5d84bb53f19bd9","reportUrl":"../151//#testresult/fd5d84bb53f19bd9","status":"passed","time":{"start":1724294372914,"stop":1724295204967,"duration":832053}},{"uid":"3815f8db94dbd4d6","reportUrl":"../150//#testresult/3815f8db94dbd4d6","status":"unknown","time":{}},{"uid":"bb7e80470c3344dd","reportUrl":"../149//#testresult/bb7e80470c3344dd","status":"unknown","time":{}},{"uid":"7e082a5dc9a1d95e","reportUrl":"../148//#testresult/7e082a5dc9a1d95e","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1724039161611,"stop":1724039821407,"duration":659796}},{"uid":"9d6c652f399b0cd3","reportUrl":"../147//#testresult/9d6c652f399b0cd3","status":"unknown","time":{}},{"uid":"7a101b3f1bdf2af2","reportUrl":"../146//#testresult/7a101b3f1bdf2af2","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedOK: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])","time":{"start":1723859912988,"stop":1723860160937,"duration":247949}},{"uid":"e9fbbdbcc04a1702","reportUrl":"../145//#testresult/e9fbbdbcc04a1702","status":"unknown","time":{}},{"uid":"235e87732e9c4d58","reportUrl":"../144//#testresult/235e87732e9c4d58","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1723686661152,"stop":1723686875252,"duration":214100}},{"uid":"2dfef25e650d4625","reportUrl":"../143//#testresult/2dfef25e650d4625","status":"unknown","time":{}},{"uid":"12a36ca3681cbcb6","reportUrl":"../142//#testresult/12a36ca3681cbcb6","status":"unknown","time":{}},{"uid":"401d0f533e14d8f9","reportUrl":"../141//#testresult/401d0f533e14d8f9","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: no close frame received or sent","time":{"start":1723427691143,"stop":1723428318955,"duration":627812}},{"uid":"66f4a9047ac0a19c","reportUrl":"../140//#testresult/66f4a9047ac0a19c","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1723341727557,"stop":1723342094082,"duration":366525}},{"uid":"b0a9d2a177ba463b","reportUrl":"../139//#testresult/b0a9d2a177ba463b","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:postgresql-test-app : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": dial tcp: lookup api.charmhub.io on 127.0.0.53:53: read udp 127.0.0.1:35632->127.0.0.53:53: i/o timeout","time":{"start":1723257551913,"stop":1723257707360,"duration":155447}},{"uid":"a09508c506a2015a","reportUrl":"../138//#testresult/a09508c506a2015a","status":"unknown","time":{}},{"uid":"673120a23f12d502","reportUrl":"../137//#testresult/673120a23f12d502","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1723095264941,"stop":1723095667517,"duration":402576}},{"uid":"4876d7e8ae68de76","reportUrl":"../136//#testresult/4876d7e8ae68de76","status":"unknown","time":{}},{"uid":"80fdc01c8c0becb1","reportUrl":"../135//#testresult/80fdc01c8c0becb1","status":"passed","time":{"start":1722915584555,"stop":1722916443567,"duration":859012}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"5fac433764313102.json","parameterValues":[]}