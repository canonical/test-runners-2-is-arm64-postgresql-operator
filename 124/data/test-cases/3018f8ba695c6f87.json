{"uid":"3018f8ba695c6f87","name":"test_deploy_async_replication_setup","fullName":"tests.integration.ha_tests.test_async_replication#test_deploy_async_replication_setup","historyId":"d78aa2d7506528b71f817b6a92e55938","time":{"start":1721958896441,"stop":1721959589507,"duration":693066},"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","descriptionHtml":"<p>Build and deploy two PostgreSQL cluster in two separate models to test async replication.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721958893356,"stop":1721958893357,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721958893357,"stop":1721958893357,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721958893357,"stop":1721958894683,"duration":1326},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1721958894683,"stop":1721958894684,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1721958894684,"stop":1721958896438,"duration":1754},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1721958896438,"stop":1721958896440,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721958896440,"stop":1721958896440,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Build and deploy two PostgreSQL cluster in two separate models to test async replication.","status":"passed","steps":[],"attachments":[{"uid":"6454839a73cc296b","name":"log","source":"6454839a73cc296b.txt","type":"text/plain","size":10007}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1721959589566,"stop":1721959589566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1721961808630,"stop":1721961808715,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm::finalizer","time":{"start":1721961808630,"stop":1721961808630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721961808716,"stop":1721961811344,"duration":2628},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721961811345,"stop":1721961811345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721961811345,"stop":1721961811345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721961811345,"stop":1721961811350,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"openstack-arm-large-21-63e215a5faaa9ce77b0e4836"},{"name":"thread","value":"9732-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"99ab29f30a7b7d59","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":14,"skipped":0,"passed":15,"unknown":16,"total":45},"items":[{"uid":"ff058eff7c21fc9d","reportUrl":"../123//#testresult/ff058eff7c21fc9d","status":"passed","time":{"start":1721877394806,"stop":1721878001421,"duration":606615}},{"uid":"e17490f9759c3d8d","reportUrl":"../122//#testresult/e17490f9759c3d8d","status":"unknown","time":{}},{"uid":"40b1d74e8f573f81","reportUrl":"../121//#testresult/40b1d74e8f573f81","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/0 [executing] active: \n  postgresql/1 [executing] maintenance: reconfiguring cluster\n  postgresql/2 [idle] waiting: awaiting for cluster to start","time":{"start":1721702326871,"stop":1721704450141,"duration":2123270}},{"uid":"7d6b20c0f1438b6c","reportUrl":"../120//#testresult/7d6b20c0f1438b6c","status":"broken","statusDetails":"juju.errors.JujuError: resolving ch:postgresql-test-app : resolving with preferred channel: Post \"https://api.charmhub.io/v2/charms/refresh\": dial tcp: lookup api.charmhub.io on 127.0.0.53:53: read udp 127.0.0.1:51766->127.0.0.53:53: i/o timeout","time":{"start":1721621782557,"stop":1721621878813,"duration":96256}},{"uid":"863a33941e812611","reportUrl":"../119//#testresult/863a33941e812611","status":"unknown","time":{}},{"uid":"2a3f59493202961e","reportUrl":"../118//#testresult/2a3f59493202961e","status":"unknown","time":{}},{"uid":"409c5fad41ed6d92","reportUrl":"../115//#testresult/409c5fad41ed6d92","status":"unknown","time":{}},{"uid":"77899cb6acfbdca2","reportUrl":"../114//#testresult/77899cb6acfbdca2","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1721271121293,"stop":1721271515513,"duration":394220}},{"uid":"3fdd5e81bed4c67","reportUrl":"../112//#testresult/3fdd5e81bed4c67","status":"passed","time":{"start":1721181047845,"stop":1721182064339,"duration":1016494}},{"uid":"ec1837ad3f8ee983","reportUrl":"../111//#testresult/ec1837ad3f8ee983","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1721094373514,"stop":1721095129407,"duration":755893}},{"uid":"6f7d2f126177bf44","reportUrl":"../110//#testresult/6f7d2f126177bf44","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1721008443720,"stop":1721008865851,"duration":422131}},{"uid":"b5b5e684df35e3f7","reportUrl":"../109//#testresult/b5b5e684df35e3f7","status":"passed","time":{"start":1720921298435,"stop":1720922143933,"duration":845498}},{"uid":"19928dbe7e223291","reportUrl":"../108//#testresult/19928dbe7e223291","status":"unknown","time":{}},{"uid":"f180fc960391b420","reportUrl":"../107//#testresult/f180fc960391b420","status":"passed","time":{"start":1720748711853,"stop":1720749505377,"duration":793524}},{"uid":"cce16a28dac0100d","reportUrl":"../106//#testresult/cce16a28dac0100d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\npostgresql/2 [executing] active:","time":{"start":1720662916518,"stop":1720664976889,"duration":2060371}},{"uid":"62310d5ab8036bbb","reportUrl":"../105//#testresult/62310d5ab8036bbb","status":"passed","time":{"start":1720575552428,"stop":1720576179547,"duration":627119}},{"uid":"858d2e1ee57702d9","reportUrl":"../104//#testresult/858d2e1ee57702d9","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1720489230879,"stop":1720490017925,"duration":787046}},{"uid":"5a7913028eeee044","reportUrl":"../103//#testresult/5a7913028eeee044","status":"passed","time":{"start":1720402757490,"stop":1720403698497,"duration":941007}},{"uid":"1fffc768bdaf4607","reportUrl":"../102//#testresult/1fffc768bdaf4607","status":"broken","statusDetails":"websockets.exceptions.ConnectionClosedError: sent 1011 (internal error) keepalive ping timeout; no close frame received","time":{"start":1720316421579,"stop":1720316821484,"duration":399905}},{"uid":"ea38a368eb20eba3","reportUrl":"../101//#testresult/ea38a368eb20eba3","status":"passed","time":{"start":1720230521221,"stop":1720231447363,"duration":926142}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"3018f8ba695c6f87.json","parameterValues":[]}